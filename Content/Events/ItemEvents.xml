<?xml version="1.0" encoding="utf-8"?>
<Randomevents>
  <!-- SCRIPTED EVENTS -->
  <EventPrefabs>
  <ScriptedEvent identifier="give5mk">
    <MoneyAction targettag="moneyrecipient" amount="5" />
    <ClearTagAction tag="moneyrecipient" />
  </ScriptedEvent>
  <ScriptedEvent identifier="give25mk">
    <MoneyAction targettag="moneyrecipient" amount="25" />
    <ClearTagAction tag="moneyrecipient" />
  </ScriptedEvent>
  <ScriptedEvent identifier="give50mk">
    <MoneyAction targettag="moneyrecipient" amount="50" />
    <ClearTagAction tag="moneyrecipient" />
  </ScriptedEvent>
  <ScriptedEvent identifier="give75mk">
    <MoneyAction targettag="moneyrecipient" amount="75" />
    <ClearTagAction tag="moneyrecipient" />
  </ScriptedEvent>
  <ScriptedEvent identifier="give100mk">
    <MoneyAction targettag="moneyrecipient" amount="100" />
    <ClearTagAction tag="moneyrecipient" />
  </ScriptedEvent>
  
  <ScriptedEvent identifier="refreshtoilet">
      <TagAction criteria="itemidentifier:he-toilet" tag="targettoilet" submarinetype="player" />
    <StatusEffectAction targettag="targettoilet">
      <StatusEffect target="This" disabledeltatime="true">
        <SpawnItem identifier="he-toilet" spawnposition="This" spawnifcantbecontained="true" spawnifinventoryfull="true" />
      </StatusEffect>
      <StatusEffect target="This" delay="0.1">
        <Remove />
      </StatusEffect>
    </StatusEffectAction>
  </ScriptedEvent>
  
  
  <ScriptedEvent identifier="uninstallevent_oven">
    <TagAction criteria="itemidentifier:he-oven_installation" tag="uninstalledbox" />
    <TagAction criteria="itemidentifier:he-oven" tag="uninstalltarget" />      
    <TriggerAction target1tag="uninstalledbox" target2tag="uninstalltarget" applytotarget2="uninstallthis" radius="150" />

    <StatusEffectAction targettag="uninstalledbox">
      <StatusEffect target="This" disabledeltatime="true" spritecolor="0,255,0,255" setvalue="true"/>
    </StatusEffectAction>
    <StatusEffectAction targettag="uninstalltarget">
      <StatusEffect target="This" disabledeltatime="true" spritecolor="255,0,0,255" setvalue="true"/>
    </StatusEffectAction>
    
    <WaitAction time="3" />

    <StatusEffectAction targettag="uninstallthis">
      <StatusEffect target="This" disabledeltatime="true">
        <DropContainedItems />
        <Remove />
        <Sound file="Content/Sounds/Damage/HitMetal1.ogg" volume="1" range="350" frequencymultiplier="0.75" selectionmode="Random" />
      </StatusEffect>
    </StatusEffectAction>
  </ScriptedEvent>
  
  <!-- Prototype for Trait selector using events -->
  <ScriptedEvent identifier="traitselectorevent">
    <!-- <Label name="start" /> -->
    <Waitaction time="0.2" />
    <!-- <CheckConditionalAction targettag="traitselector_player" >
      <Conditional fatigue="lte 0.0" />
      <Failure>
        <Goto name="end" />
      </Failure>
    </CheckConditionalAction> -->
    <StatusEffectAction targettag="traitselector_player">
      <StatusEffect target="This" disabledeltatime="true">
        <GiveTalentInfo giverandom="false" talentidentifiers="he-moodyeuropan" />
      </StatusEffect>
    </StatusEffectAction>
    <Label name="foodselector" />
    <ConversationAction text="Select Favorite Food" targettag="traitselector_player" eventsprite="heartofgold" >
      <Option text="burgers" >
        <StatusEffectAction targettag="traitselector_player">
          <StatusEffect target="This" disabledeltatime="true" >
            <Affliction identifier="mood" amount="0.1" />
            <Affliction identifier="he-traitselectorcounterfood" amount="1" />
            <GiveTalentInfo giverandom="false" talentidentifiers="he-trait_likes_burgers" />
          </StatusEffect>
        </StatusEffectAction>
      </Option>        
    </ConversationAction>
    <CheckConditionalAction targettag="traitselector_player" >
      <Conditional he-traitselectorcounterfood="gte 2" />
      <Failure>
        <Goto name="foodselector" />
      </Failure>
    </CheckConditionalAction>        
    <Label name="drinkselector" />
    <ConversationAction text="Select Favorite Drink" targettag="traitselector_player" eventsprite="heartofgold" >
      <Option text="beer" >
        <StatusEffectAction targettag="traitselector_player">
          <StatusEffect target="This" disabledeltatime="true">
            <Affliction identifier="mood" amount="0.1" />
            <Affliction identifier="he-traitselectorcounterdrink" amount="1" />
            <GiveTalentInfo giverandom="false" talentidentifiers="he-trait_likes_beer" />
          </StatusEffect>
        </StatusEffectAction>
      </Option>        
    </ConversationAction>
    <CheckConditionalAction targettag="traitselector_player" >
      <Conditional he-traitselectorcounterdrink="gte 1" />  
      <Failure>
        <Goto name="drinkselector" />
      </Failure>
    </CheckConditionalAction>    
    <ConversationAction text="Done." targettag="traitselector_player" eventsprite="heartofgold" endconversation="true" />
    <Label name="end" />
    <ClearTagAction tag="traitselector_player" />
  </ScriptedEvent>

  
  </EventPrefabs>
</Randomevents>